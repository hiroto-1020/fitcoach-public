{
  "expo": {
    "name": "FitGear",
    "slug": "fitcoach",
    "version": "1.0.2",
    "scheme": "fitgear",
    "platforms": ["ios", "android"],
    "orientation": "portrait",
    "icon": "./assets/images/icon.png",
    "userInterfaceStyle": "automatic",
    "assetBundlePatterns": ["**/*"],

    "ios": {
      "supportsTablet": false,
      "bundleIdentifier": "com.hiroto.fitcoach",
      "buildNumber": "7",
      "infoPlist": {
        "NSPhotoLibraryUsageDescription": "本人確認書類や食事写真を選択・読み込みします。",
        "NSCameraUsageDescription": "本人確認書類やバーコードを撮影するためにカメラを使用します。",
        "NSPhotoLibraryAddUsageDescription": "撮影した写真を保存する場合に使用します。",
        "NSLocationWhenInUseUsageDescription": "現在地から都道府県を推定して地域を自動設定します。",
        "NSMicrophoneUsageDescription": "動画撮影や音声入力機能のためにマイクを使用します。",
        "UIBackgroundModes": ["remote-notification"],
        "ITSAppUsesNonExemptEncryption": false
      }
    },

    "android": {
      "package": "com.hiroto.fitcoach",
      "versionCode": 7,
      "adaptiveIcon": {
        "foregroundImage": "./assets/images/android-icon-foreground.png",
        "backgroundColor": "#E6F4FE"
      },
      "permissions": [
        "android.permission.CAMERA",
        "android.permission.READ_MEDIA_IMAGES",
        "android.permission.RECORD_AUDIO",
        "android.permission.ACCESS_COARSE_LOCATION",
        "android.permission.ACCESS_FINE_LOCATION"
      ]
      /* ← 手動 intentFilters は削除（expo-router に任せる） */
    },

    "web": {
      "favicon": "./assets/images/favicon.png"
    },

    "plugins": [
      ["expo-router", { "origin": "https://fitgear.app" }],
      ["expo-splash-screen",
        {
          "image": "./assets/images/splash-light.png",
          "resizeMode": "contain",
          "backgroundColor": "#0F172A",
          "dark": { "image": "./assets/images/splash-dark.png", "backgroundColor": "#0B1220" }
        }
      ],
      "expo-image-picker",
      "expo-sqlite",
      "expo-location",
      ["expo-notifications", { "mode": "production" }],
      ["expo-build-properties", { "ios": { "use_frameworks": "static", "deploymentTarget": "15.1" } }],
      "expo-web-browser",
      "expo-asset",
      "expo-font"
    ],

    "runtimeVersion": "1.0.1", 
    "updates": {
      "enabled": true,
      "checkAutomatically": "ON_LOAD",
      "fallbackToCacheTimeout": 0,
      "url": "REDACTED"
    },
    "experiments": { "reactCompiler": false },

    "splash": {
      "image": "./assets/images/splash-light.png",
      "resizeMode": "contain",
      "backgroundColor": "#0F172A",
      "dark": { "image": "./assets/images/splash-dark.png", "backgroundColor": "#0B1220" }
    },

    "extra": {
      "EXPO_PUBLIC_SUPABASE_URL": "https://YOUR-PROJECT.supabase.co",
      "EXPO_PUBLIC_SUPABASE_ANON_KEY": "YOUR_SUPABASE_ANON_KEY",
      "eas": { "projectId": "REDACTED" },
      "router": {},
      "GOTORE_ENABLED": "false",
      "GOTORE_PURCHASE_ENABLED": "false"
    },

    "owner": "REDACTED"
  }
}
